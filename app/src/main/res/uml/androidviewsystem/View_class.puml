@startuml
title
<font color=red size=16>View类图</font>

endtitle

header
<font color=red>Warning:</font>
Do not use for commercial purposes.
endheader
'-----------------------------------------------------------
interface ViewParent {
    invalidateChildInParent()
    requestLayout()
}
class ViewRootImpl {
    final Surface mSurface
    View.AttachInfo mAttachInfo
    final IWindowSession mWindowSession;
}
ViewRootImpl .up.|> ViewParent
'#############################
class View {
    ViewParent mParent
    invalidate()
    requestLayout()
}
View -right-> ViewParent
class AttachInfo {
    final ViewRootImpl mViewRootImpl
    IWindowSession mSession//与WMS交互的桥梁
}
View +-- AttachInfo
AttachInfo <--> ViewRootImpl
'#############################

class WindowManagerGlobal {
    final ArrayList<View> mViews
    final ArrayList<ViewRootImpl> mRoots
    final ArrayList<WindowManager.LayoutParams> mParams
    void addView(View view, ViewGroup.LayoutParams params, ...)
}
note bottom of WindowManagerGlobal
mViews,mRoots,mParams分别记录WMG管理的
view以及其对应的ViewRootImpl和Params，
三个List同增同减，也就是说相同index对应的
就是同一个View的相关信息
end note
WindowManagerGlobal --> ViewRootImpl

'-----------------------------------------------------------
right footer Generated by Yaoguang
@enduml